<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿçƒå‘½åæ•…äº‹ (äº’å‹•å¼)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #0a0a2a; /* æ·±è—è‰²æ˜Ÿç©ºèƒŒæ™¯ */
            color: #f0f0f0;
        }
        /* ç‘ä¸Šä¸€äº›æ˜Ÿæ˜ŸèƒŒæ™¯ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(white 1px, transparent 1px), radial-gradient(white 1px, transparent 1px);
            background-size: 40px 40px, 40px 40px;
            background-position: 0 0, 20px 20px;
            animation: twinkle 5s infinite linear;
            z-index: -1;
        }
        @keyframes twinkle {
            from { opacity: 0.3; }
            to { opacity: 0.7; }
        }

        /* ç¿»è½‰å¡ç‰‡æ•ˆæœ */
        .card-container {
            perspective: 1000px;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.7s;
            transform-style: preserve-3d;
        }
        .card-container.is-flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            border-radius: 1rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        .card-front {
            background: linear-gradient(145deg, #2a2a6a, #1a1a4a);
            border: 2px solid #4a4a8a;
            cursor: pointer;
        }
        .card-back {
            background: linear-gradient(145deg, #3a3a7a, #2a2a5a);
            border: 2px solid #5a5a9a;
            transform: rotateY(180deg);
            overflow-y: auto;
        }

        /* --- å…¨æ–°æ³¨éŸ³æ’ç‰ˆç³»çµ± (ä½¿ç”¨ Flexbox) --- */
        .zhuyin-wrap {
            display: inline-flex; /* ä½¿ç”¨ Flexbox é€²è¡Œæ’ç‰ˆ */
            align-items: center;  /* å‚ç›´ç½®ä¸­å°é½Š */
            line-height: 1.2;     /* é¿å…ç¹¼æ‰¿çš„è¡Œé«˜å½±éŸ¿æ’ç‰ˆ */
            vertical-align: middle; /* ç¢ºä¿èˆ‡æ—é‚Šçš„æ–‡å­—å°é½Š */
        }
        .base-char {
            /* åœ‹å­—æœ¬èº«ä¸éœ€è¦ç‰¹åˆ¥æ¨£å¼ï¼Œå®ƒæœƒç¹¼æ‰¿çˆ¶å±¤çš„å­—é«”å¤§å° */
        }
        .phonetic {
            writing-mode: vertical-rl;
            text-orientation: upright;
            -webkit-writing-mode: vertical-rl;
            -webkit-text-orientation: upright;
            font-size: 0.45em; /* èª¿æ•´æ³¨éŸ³å¤§å° */
            color: #c0c0ff;
            margin-left: 0.1em; /* èˆ‡åœ‹å­—çš„é–“è· */
            letter-spacing: 0.1em;
        }
        .tone {
            font-size: 0.5em; /* èª¿æ•´è²èª¿å¤§å° */
            color: #c0c0ff;
            margin-left: 0.05em; /* èˆ‡æ³¨éŸ³çš„é–“è· */
            line-height: 1;
        }
        /* --- èˆŠçš„ ruby æ¨£å¼å·²å®Œå…¨ç§»é™¤ --- */
        
        /* æ¨™é»ç¬¦è™Ÿæ¨£å¼ */
        .punct {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0 0.2em;
            font-size: inherit;
        }

        .quiz-option {
            transition: all 0.2s ease-in-out;
        }
        .quiz-option:hover:not(:disabled) {
            transform: scale(1.05);
            background-color: #4a4a8a;
        }
        
        /* åˆ†æ•¸å½ˆè·³è¦–çª—æ¨£å¼ */
        #score-modal {
            transition: opacity 0.3s ease-in-out;
        }
        #score-modal > div {
             transform: scale(0.95);
             transition: transform 0.3s ease-in-out;
        }
        #score-modal:not(.hidden) > div {
            transform: scale(1);
        }
        
        /* --- æ‰‹æ©Ÿç‰ˆéŸ¿æ‡‰å¼è¨­è¨ˆ (Responsive Design) - ä½¿ç”¨æ–°ç‰ˆæ³¨éŸ³ç³»çµ± --- */
        @media (max-width: 640px) {
            /* ç¸®å°ä¸»æ¨™é¡Œå’Œå‰¯æ¨™é¡Œ */
            #main-title {
                font-size: 2rem; 
                line-height: 2.4rem;
            }
             header p {
                font-size: 0.95rem;
            }

            /* å¢åŠ å¡ç‰‡é«˜åº¦ï¼Œä¸¦å¤§å¹…ç¸®å°å¡ç‰‡æ¨™é¡Œå­—é«” */
            .card-container {
                height: 16rem; 
            }
            .card-front h2, .card-back h3 {
                font-size: 1.6rem;
            }
             .card-back p {
                font-size: 0.9rem;
                line-height: 1.6;
            }

            /* å°ˆç‚ºæ‰‹æ©Ÿå¾®èª¿æ–°ç‰ˆæ³¨éŸ³çš„å¤§å° */
            .phonetic {
                font-size: 0.42em;
            }
            .tone {
                font-size: 0.48em;
            }

            /* ç¸®å°é–±è®€å€å’Œæ¸¬é©—å€çš„æ¨™é¡Œèˆ‡å­—é«” */
            #reading-section h2, #quiz-section h2 {
                font-size: 1.75rem;
            }
            #reading-section, #quiz-section {
                font-size: 0.9rem;
                padding: 1rem;
            }
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-7xl mx-auto">
        <header class="text-center mb-10">
            <h1 id="main-title" class="text-4xl sm:text-5xl font-bold text-yellow-300 mb-2">
                <!-- JavaScript will populate this -->
            </h1>
            <p class="text-lg text-gray-300">å“ˆå›‰<span class="punct">ï¼Œ</span>å°æœ‹å‹<span class="punct">ï¼</span>é»æ“Šä¸‹æ–¹çš„è¡Œæ˜Ÿå¡ç‰‡<span class="punct">ï¼Œ</span>ä¾†çœ‹çœ‹å®ƒåå­—èƒŒå¾Œçš„æ•…äº‹å§<span class="punct">ï¼</span></p>
        </header>

        <!-- è¡Œæ˜Ÿå¡ç‰‡å€ -->
        <main id="planets-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
            <!-- JavaScript æœƒåœ¨é€™è£¡ç”Ÿæˆè¡Œæ˜Ÿå¡ç‰‡ -->
        </main>
        
        <!-- å¤©æ–‡é–±è®€å€ -->
        <section id="reading-section" class="mt-16 bg-slate-800/50 p-6 rounded-2xl max-w-3xl mx-auto">
            <h2 id="reading-title" class="text-3xl font-bold text-center mb-6 text-yellow-300">
                <!-- JS populates -->
            </h2>
            <div class="space-y-6 text-lg">
                <div>
                    <h3 id="wuxing-title" class="text-xl font-semibold text-cyan-300 mb-2">
                        <!-- JS populates -->
                    </h3>
                    <ul class="list-disc list-inside space-y-2">
                        <li id="wuxing-mu"></li>
                        <li id="wuxing-huo"></li>
                        <li id="wuxing-tu"></li>
                        <li id="wuxing-jin"></li>
                        <li id="wuxing-shui"></li>
                    </ul>
                </div>
                <div>
                    <h3 id="naming-title" class="text-xl font-semibold text-cyan-300 mb-2">
                        <!-- JS populates -->
                    </h3>
                    <p id="naming-p1" class="leading-relaxed tracking-wider"></p>
                    <p id="naming-p2" class="leading-relaxed tracking-wider mt-4"></p>
                    <p id="naming-p3" class="leading-relaxed tracking-wider mt-4"></p>
                    <ul class="list-none space-y-2 mt-4 pl-4 border-l-2 border-cyan-400">
                         <li id="uranus-info"></li>
                         <li id="neptune-info"></li>
                         <li id="pluto-info"></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- å°æ¸¬é©—å€ -->
        <section id="quiz-section" class="mt-16 bg-slate-800/50 p-6 rounded-2xl max-w-3xl mx-auto">
            <h2 id="quiz-title" class="text-3xl font-bold text-center mb-6 text-yellow-300">
                <!-- JavaScript will populate this -->
            </h2>
            <div id="quiz-container" class="space-y-8">
                <!-- JavaScript æœƒåœ¨é€™è£¡ç”Ÿæˆæ¸¬é©—å•é¡Œ -->
            </div>
            <div class="text-center mt-8">
                <button id="reset-quiz-btn" class="bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition-colors">
                    é‡æ–°ä½œç­”
                </button>
            </div>
        </section>

        <footer class="text-center mt-16 text-gray-500 text-sm">
            <p class="mb-2">æœ‰è¶£çš„å®‡å®™<span class="punct">ï¼Œ</span>ç­‰è‘—ä½ å»ç™¼ç¾å–”<span class="punct">ï¼</span></p>
            <p>&copy; 2025 | Designed by Cybill Wang | cybill31@gmail.com</p>
        </footer>
    </div>

    <!-- åˆ†æ•¸å½ˆè·³è¦–çª— (Modal) -->
    <div id="score-modal" class="fixed inset-0 bg-black bg-opacity-75 items-center justify-center z-50 hidden">
        <div class="bg-slate-800 p-8 rounded-2xl text-center shadow-2xl border-2 border-yellow-300 w-11/12 max-w-md">
            <h2 id="modal-title" class="text-3xl font-bold text-yellow-300 mb-4"></h2>
            <p class="text-lg mb-6">ä½ ç­”å°äº† <span id="final-score" class="font-bold text-2xl text-cyan-300"></span> / 7 é¡Œ</p>
            <button id="close-modal-btn" class="bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg">é—œé–‰</button>
        </div>
    </div>
    
    <script>
        const planetsData = [
            { name: "æ°´æ˜Ÿ", zhuyin: "ã„•ã„¨ã„ŸË‡ ã„’ã„§ã„¥", eng: "Mercury", color: "bg-gray-400", story: "åœ¨ç¾…é¦¬ç¥è©±è£¡ï¼Œæœ‰ä¸€ä½è·‘å¾—éå¸¸å¿«çš„ä¿¡å·®ä¹‹ç¥ï¼Œå«åšã€Œå¢¨ä¸˜åˆ©ã€ã€‚ä»–çš„è…³ä¸Šæœ‰ä¸€é›™é•·äº†ç¿…è†€çš„ç‰¹åˆ¥é‹å­ï¼Œå¯ä»¥å’»ä¸€ä¸‹åœ°é£›åˆ°ä»»ä½•åœ°æ–¹ã€‚æ°´æ˜Ÿæ˜¯å¤ªé™½ç³»è£¡è·‘å¾—æœ€å¿«çš„ä¸€é¡†è¡Œæ˜Ÿï¼Œæ‰€ä»¥äººå€‘å°±ç”¨ä»–çš„åå­—ä¾†ç¨±å‘¼å®ƒäº†ã€‚" },
            { name: "é‡‘æ˜Ÿ", zhuyin: "ã„ã„§ã„£ ã„’ã„§ã„¥", eng: "Venus", color: "bg-yellow-200", story: "ã€Œç¶­ç´æ–¯ã€æ˜¯ç¾…é¦¬ç¥è©±ä¸­æœ€æœ‰åçš„æ„›èˆ‡ç¾ä¹‹ç¥ï¼Œå¥¹éå¸¸çš„ç¾éº—ã€‚é‡‘æ˜Ÿæ˜¯å¤œç©ºä¸­é™¤äº†æœˆäº®ä¹‹å¤–æœ€äº®çš„ä¸€é¡†æ˜Ÿï¼Œçœ‹èµ·ä¾†å°±åƒä¸€é¡†é–ƒé–ƒç™¼å…‰çš„é‘½çŸ³ï¼Œæ‰€ä»¥å°±ç”¨äº†æœ€ç¾éº—çš„å¥³ç¥ã€Œç¶­ç´æ–¯ã€çš„åå­—ä¾†å‘½åã€‚" },
            { name: "åœ°çƒ", zhuyin: "ã„‰ã„§Ë‹ ã„‘ã„§ã„¡ËŠ", eng: "Earth", color: "bg-blue-500", story: "æˆ‘å€‘æ‰€å±…ä½çš„é€™é¡†ç¾éº—è—è‰²æ˜Ÿçƒï¼Œå®ƒçš„åå­—å¾ˆç‰¹åˆ¥å–”ï¼å®ƒä¸æ˜¯ä¾†è‡ªç¾…é¦¬æˆ–å¸Œè‡˜ç¥è©±ã€‚åœ°çƒçš„è‹±æ–‡åå­— \"Earth\"ï¼Œæ˜¯å¾å¤è€çš„æ—¥è€³æ›¼èªæ¼”è®Šè€Œä¾†çš„ï¼Œæ„æ€å°±æ˜¯ã€ŒåœŸåœ°ã€æˆ–æ˜¯ã€Œåœ°é¢ã€ã€‚" },
            { name: "ç«æ˜Ÿ", zhuyin: "ã„ã„¨ã„›Ë‡ ã„’ã„§ã„¥", eng: "Mars", color: "bg-red-500", story: "ã€Œé¦¬çˆ¾æ–¯ã€æ˜¯ç¾…é¦¬ç¥è©±ä¸­å‹‡çŒ›çš„ã€Œæˆ°ç¥ã€ã€‚ç«æ˜Ÿçš„è¡¨é¢å› ç‚ºæœ‰å¾ˆå¤šç´…è‰²çš„æ²™å­å’ŒçŸ³é ­ï¼Œæ‰€ä»¥æ•´é¡†æ˜Ÿçƒçœ‹èµ·ä¾†éƒ½ç´…é€šé€šçš„ï¼Œå°±åƒç«ç„°çš„é¡è‰²ä¸€æ¨£ã€‚å› æ­¤ï¼Œäººå€‘å°±ç”¨è‹±å‹‡çš„æˆ°ç¥ã€Œé¦¬çˆ¾æ–¯ã€ä¾†ç‚ºå®ƒå‘½åã€‚" },
            { name: "æœ¨æ˜Ÿ", zhuyin: "ã„‡ã„¨Ë‹ ã„’ã„§ã„¥", eng: "Jupiter", color: "bg-orange-400", story: "ã€Œæœ±æ¯”ç‰¹ã€æ˜¯ç¾…é¦¬ç¥è©±è£¡çš„ã€Œçœ¾ç¥ä¹‹ç‹ã€ï¼Œå°±åƒæ˜¯æ‰€æœ‰ç¥ä»™çš„åœ‹ç‹ä¸€æ¨£ã€‚æœ¨æ˜Ÿæ˜¯å¤ªé™½ç³»è¡Œæ˜Ÿå®¶æ—ä¸­çš„ã€Œå·¨ç„¡éœ¸ã€ï¼Œé«”ç©æ¯”å…¶ä»–æ‰€æœ‰è¡Œæ˜ŸåŠ èµ·ä¾†é‚„è¦å¤§ï¼æ‰€ä»¥è¦ç”¨æœ€æœ‰æ°£å‹¢çš„çœ¾ç¥ä¹‹ç‹ã€Œæœ±æ¯”ç‰¹ã€ä¾†å‘½åæ‰è¡Œï¼" },
            { name: "åœŸæ˜Ÿ", zhuyin: "ã„Šã„¨Ë‡ ã„’ã„§ã„¥", eng: "Saturn", color: "bg-yellow-500", story: "ã€Œè–©åœ–æ©ã€æ˜¯ç¾…é¦¬ç¥è©±ä¸­çš„ã€Œè¾²æ¥­ä¹‹ç¥ã€ã€‚åœŸæ˜Ÿæœ€ç‰¹åˆ¥çš„åœ°æ–¹ï¼Œå°±æ˜¯å®ƒèº«ä¸Šé‚£ä¸€åœˆç¾éº—çš„ã€Œè¡Œæ˜Ÿç’°ã€ï¼Œè®“å®ƒçœ‹èµ·ä¾†å°±åƒæˆ´è‘—ä¸€å€‹æ¼‚äº®çš„å‘¼æ‹‰åœˆã€‚åœ¨å¤ä»£ï¼ŒåœŸæ˜Ÿæ˜¯äººå€‘ç”¨è‚‰çœ¼èƒ½çœ‹åˆ°æœ€é çš„è¡Œæ˜Ÿï¼Œæ‰€ä»¥å°±ç”¨äº†é€™ä½é‡è¦çš„ç¥ä¾†å‘½åã€‚" },
            { name: "å¤©ç‹æ˜Ÿ", zhuyin: "ã„Šã„§ã„¢ ã„¨ã„¤ËŠ ã„’ã„§ã„¥", eng: "Uranus", color: "bg-cyan-300", story: "é€™æ˜¯ç§‘å­¸å®¶ç”¨æœ›é é¡æ‰ç™¼ç¾çš„è¡Œæ˜Ÿã€‚å®ƒçš„åå­—ä¾†è‡ªå¸Œè‡˜ç¥è©±ä¸­çš„ã€Œå¤©ç©ºä¹‹ç¥ã€â€”â€”çƒæ‹‰è«¾æ–¯ã€‚ä»–æ˜¯å¤©ç©ºçš„åŒ–èº«ï¼Œä¹Ÿæ˜¯çœ¾ç¥ä¹‹ç‹æœ±æ¯”ç‰¹çš„çˆºçˆºå–”ï¼ç”¨å¤©ç©ºä¹‹ç¥ä¾†ç‚ºé€™é¡†æ·¡è—è‰²çš„æ˜Ÿçƒå‘½åï¼Œæ˜¯ä¸æ˜¯å¾ˆå¤¢å¹»å‘¢ï¼Ÿ" },
            { name: "æµ·ç‹æ˜Ÿ", zhuyin: "ã„ã„Ë‡ ã„¨ã„¤ËŠ ã„’ã„§ã„¥", eng: "Neptune", color: "bg-blue-700", story: "æµ·ç‹æ˜Ÿæ˜¯ä¸€é¡†éå¸¸æ¼‚äº®çš„æ·±è—è‰²æ˜Ÿçƒï¼Œå°±åƒä¸€ç‰‡æµ©ç€šåˆç¥ç§˜çš„å¤§æµ·æ´‹ã€‚æ‰€ä»¥ï¼Œäººå€‘å°±ç”¨äº†ç¾…é¦¬ç¥è©±ä¸­æŒç®¡æµ·æ´‹çš„ã€Œæµ·ç¥ã€â€”â€”å°¼æ™®é “ä¾†ç‚ºå®ƒå‘½åã€‚ç¥è©±è£¡çš„æµ·ç¥æ‰‹ä¸Šç¸½æ˜¯æ‹¿è‘—ä¸€æŠŠå¼·å¤§çš„ä¸‰å‰æˆŸã€‚" },
            { name: "å†¥ç‹æ˜Ÿ", zhuyin: "ã„‡ã„§ã„¥ËŠ ã„¨ã„¤ËŠ ã„’ã„§ã„¥", eng: "Pluto", color: "bg-indigo-300", story: "ã€Œæ™®é­¯æ‰˜ã€æ˜¯ç¾…é¦¬ç¥è©±ä¸­ï¼ŒæŒç®¡é™é åˆç¥ç§˜çš„åœ°åº•ä¸–ç•Œçš„ç¥ã€‚å› ç‚ºå†¥ç‹æ˜Ÿè·é›¢å¤ªé™½éå¸¸é™é ï¼Œé‚£è£¡åˆå†·åˆæš—ï¼Œæ‰€ä»¥äººå€‘å°±ç”¨äº†å†¥ç‹ã€Œæ™®é­¯æ‰˜ã€çš„åå­—ä¾†ç¨±å‘¼å®ƒã€‚ç¾åœ¨å®ƒè¢«æ­¸é¡ç‚ºã€ŒçŸ®è¡Œæ˜Ÿã€å–”ï¼" }
        ];

        const quizData = [
            {
                question: "è·‘å¾—æœ€å¿«çš„ã€Œä¿¡å·®ä¹‹ç¥ã€ï¼Œæ˜¯å“ªé¡†æ˜Ÿçš„åå­—ç”±ä¾†ï¼Ÿ",
                options: ["é‡‘ æ˜Ÿ Venus", "æ°´ æ˜Ÿ Mercury", "ç« æ˜Ÿ Mars"],
                answer: "æ°´ æ˜Ÿ Mercury"
            },
            {
                question: "å¤ªé™½ç³»ä¸­æœ€å¤§é¡†çš„ã€Œå·¨ ç„¡ éœ¸ã€è¡Œæ˜Ÿï¼Œæ˜¯ç”¨å“ªä½ç¥ä»™çš„åå­—å‘½åçš„ï¼Ÿ",
                options: ["æˆ°ç¥ é¦¬çˆ¾æ–¯ (Mars)", "æµ·ç¥ å°¼æ™®é “ (Neptune)", "çœ¾ç¥ä¹‹ç‹ æœ±æ¯”ç‰¹ (Jupiter)"],
                answer: "çœ¾ç¥ä¹‹ç‹ æœ±æ¯”ç‰¹ (Jupiter)"
            },
            {
                question: "å“ªä¸€é¡†è¡Œæ˜Ÿçš„åå­—ä¸æ˜¯ä¾†è‡ªç¥è©±æ•…äº‹ï¼Œè€Œæ˜¯ã€ŒåœŸ åœ°ã€çš„æ„æ€ï¼Ÿ",
                options: ["åœŸ æ˜Ÿ Saturn", "åœ° çƒ Earth", "å¤©ç‹æ˜Ÿ Uranus"],
                answer: "åœ° çƒ Earth"
            },
            {
                question: "å“ªä¸€ç¨® é¡è‰² ä»£è¡¨ã€Œç«ã€ï¼Ÿ",
                options: ["é»ƒ è‰²", "ç´… è‰²", "é»‘ è‰²"],
                answer: "ç´… è‰²"
            },
            {
                question: "å¸é¦¬é·å¹«äº”é¡†æ˜Ÿæ˜Ÿå–äº†ä»€éº¼åå­—ï¼Ÿ",
                options: ["æ—¥ã€æœˆã€æ˜Ÿã€é›²ã€é¢¨", "é‡‘ æ˜Ÿã€æœ¨ æ˜Ÿã€æ°´ æ˜Ÿã€ç« æ˜Ÿã€åœŸ æ˜Ÿ", "æ˜¥ã€å¤ã€ç§‹ã€å†¬ã€é¢¨"],
                answer: "é‡‘ æ˜Ÿã€æœ¨ æ˜Ÿã€æ°´ æ˜Ÿã€ç« æ˜Ÿã€åœŸ æ˜Ÿ"
            },
            {
                question: "åœŸæ˜Ÿå°æ‡‰çš„é¡è‰²æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["é»ƒ è‰²", "ç™½ è‰²", "ç¶  è‰²"],
                answer: "é»ƒ è‰²"
            },
            {
                question: "ç‚ºä»€éº¼å¤ä»£äººçœ‹ä¸åˆ° å¤©ç‹æ˜Ÿ å’Œ æµ·ç‹æ˜Ÿï¼Ÿ",
                options: ["æ˜Ÿçƒå¤ªå°äº†", "æ˜Ÿçƒè·é›¢åœ°çƒå¤ªé™é äº†", "æ˜Ÿçƒè·‘å¤ªå¿«äº†"],
                answer: "æ˜Ÿçƒè·é›¢åœ°çƒå¤ªé™é äº†"
            }
        ];

        const planetsGrid = document.getElementById('planets-grid');
        const quizContainer = document.getElementById('quiz-container');
        
        // è¨ˆåˆ†ç›¸é—œè®Šæ•¸
        let score = 0;
        let questionsAnswered = 0;
        const totalQuestions = quizData.length;

        // --- å…¨æ–°æ ¸å¿ƒåŠŸèƒ½ï¼šä½¿ç”¨ Flexbox æ ¼å¼åŒ–æ³¨éŸ³ (å–ä»£èˆŠçš„ ruby å¯«æ³•) ---
        function formatZhuyin(name, zhuyin) {
            const nameChars = name.split('');
            const zhuyinParts = zhuyin.split(' ');
            let html = '';

            nameChars.forEach((char, i) => {
                const zhuyinPart = zhuyinParts[i] || '';
                // åªåŒ¹é…éœ€è¦ç¨ç«‹å‡ºä¾†çš„äºŒã€ä¸‰ã€å››è²
                const toneMatch = zhuyinPart.match(/[Ë‡ËŠË‹]/);
                let phonetics, toneHTML = '';

                if (toneMatch) {
                    toneHTML = `<span class="tone">${toneMatch[0]}</span>`;
                    phonetics = zhuyinPart.replace(toneMatch[0], '');
                } else {
                    phonetics = zhuyinPart;
                }
                
                // ä½¿ç”¨ span å’Œ Flexbox ä¾†çµ„åˆåœ‹å­—ã€æ³¨éŸ³å’Œè²èª¿
                html += `<span class="zhuyin-wrap">` +
                          `<span class="base-char">${char}</span>` +
                          `<span class="phonetic">${phonetics}</span>` +
                          `${toneHTML}` +
                        `</span>`;
            });
            return html;
        }

        // ç”Ÿæˆè¡Œæ˜Ÿå¡ç‰‡
        planetsData.forEach(planet => {
            const zhuyinRuby = formatZhuyin(planet.name, planet.zhuyin);

            const cardContainer = document.createElement('div');
            cardContainer.className = 'card-container h-64';
            cardContainer.innerHTML = `
                <div class="card-inner">
                    <div class="card-front">
                        <div class="w-24 h-24 ${planet.color} rounded-full mb-4 shadow-lg flex items-center justify-center">
                           <!-- å¯ä»¥æ”¾SVGåœ–æ¨™ç­‰ -->
                        </div>
                        <h2 class="text-3xl font-bold">${zhuyinRuby}</h2>
                    </div>
                    <div class="card-back">
                        <div class="flex flex-col h-full p-2 text-left">
                            <h3 class="text-xl font-bold mb-2 text-center">${zhuyinRuby}</h3>
                            <p class="text-base leading-relaxed tracking-wider flex-grow">${planet.story}</p>
                            <p class="text-gray-400 text-sm mt-2 text-right">è‹±æ–‡åå­—: ${planet.eng}</p>
                        </div>
                    </div>
                </div>
            `;
            cardContainer.addEventListener('click', () => {
                cardContainer.classList.toggle('is-flipped');
            });
            planetsGrid.appendChild(cardContainer);
        });

        // ç”Ÿæˆæ¸¬é©—å•é¡Œ
        function generateQuiz() {
             score = 0;
             questionsAnswered = 0;
             quizContainer.innerHTML = ''; // æ¸…ç©ºèˆŠé¡Œç›®
             quizData.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-block';
                
                let optionsHTML = '';
                q.options.forEach(option => {
                    optionsHTML += `<button class="quiz-option w-full text-left bg-slate-700 p-3 rounded-lg" data-question="${index}" data-answer="${option}">${option}</button>`;
                });
                
                let formattedQuestion = '';
                q.question.split('').forEach(char => {
                     if ('ï¼Œã€‚ï¼ï¼Ÿã€Œã€'.includes(char)) {
                        formattedQuestion += `<span class="punct">${char}</span>`;
                    } else {
                        formattedQuestion += char;
                    }
                });

                questionDiv.innerHTML = `
                    <p class="text-lg mb-4">${index + 1}. ${formattedQuestion}</p>
                    <div class="options-grid grid grid-cols-1 gap-3">
                        ${optionsHTML}
                    </div>
                    <p class="result-text mt-2 h-6 text-green-400"></p>
                `;
                quizContainer.appendChild(questionDiv);
            });
        }

        function showScoreModal() {
            const modal = document.getElementById('score-modal');
            const finalScoreSpan = document.getElementById('final-score');
            const modalTitle = document.getElementById('modal-title');
            
            finalScoreSpan.textContent = score;
            if (score === totalQuestions) {
                modalTitle.textContent = 'å¤ªå²å®³äº†ï¼å…¨å°ï¼';
            } else if (score >= totalQuestions / 2) {
                modalTitle.textContent = 'æ¸¬é©—å®Œæˆï¼';
            } else {
                 modalTitle.textContent = 'å†æ¥å†å²ï¼';
            }
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }
       
        // æ¸¬é©—é‚è¼¯
        quizContainer.addEventListener('click', function(e) {
            if (e.target.classList.contains('quiz-option') && !e.target.disabled) {
                const questionIndex = e.target.dataset.question;
                const selectedAnswer = e.target.dataset.answer;
                const correctAnswer = quizData[questionIndex].answer;
                const questionBlock = e.target.closest('.question-block');
                const resultText = questionBlock.querySelector('.result-text');
                const allOptions = questionBlock.querySelectorAll('.quiz-option');

                allOptions.forEach(btn => {
                    btn.disabled = true; // å›ç­”å¾Œç¦ç”¨æ‰€æœ‰æŒ‰éˆ•
                    if(btn.dataset.answer === correctAnswer) {
                        btn.style.backgroundColor = '#22c55e'; // æ­£ç¢ºç­”æ¡ˆè®Šç¶ è‰²
                    }
                });

                if (selectedAnswer === correctAnswer) {
                    resultText.textContent = 'ç­”å°äº†ï¼Œä½ å¥½æ£’ï¼';
                    resultText.style.color = '#4ade80';
                } else {
                    e.target.style.backgroundColor = '#ef4444'; // éŒ¯èª¤ç­”æ¡ˆè®Šç´…è‰²
                    resultText.textContent = `ç­”éŒ¯äº†ï¼Œæ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œ${correctAnswer}ã€`;
                    resultText.style.color = '#f87171';
                }
            }
        });
        
        // é‡æ–°ä½œç­”èˆ‡é—œé–‰è¦–çª—é‚è¼¯
        const resetBtn = document.getElementById('reset-quiz-btn');
        const modal = document.getElementById('score-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        
        resetBtn.addEventListener('click', generateQuiz);
        
        closeModalBtn.addEventListener('click', () => {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        });

        // é»æ“ŠèƒŒæ™¯é—œé–‰è¦–çª—
        modal.addEventListener('click', (e) => {
            if(e.target.id === 'score-modal') {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }
        });
        
        // --- é é¢åˆå§‹è¼‰å…¥ ---
        
        // æ¨™é¡Œ
        document.getElementById('main-title').innerHTML = formatZhuyin("æ˜Ÿæ˜Ÿçš„åå­—æ•…äº‹", "ã„’ã„§ã„¥ ã„’ã„§ã„¥ Ë™ã„‰ã„œ ã„‡ã„§ã„¥ËŠ ã„—Ë‹ ã„ã„¨Ë‹ ã„•Ë‹");
        document.getElementById('quiz-title').innerHTML = formatZhuyin("æ˜Ÿéš›å°æ¸¬é©—", "ã„’ã„§ã„¥ ã„ã„§Ë‹ ã„’ã„§ã„ Ë‡ ã„˜ã„œË‹ ã„§ã„¢Ë‹");
        
        // å¤©æ–‡é–±è®€å€ (ç§»é™¤æ³¨éŸ³)
        document.getElementById('reading-title').innerHTML = `ğŸŒŸ å°åšå£« å¤©æ–‡é–±è®€å€ ğŸŒŸ`;
        document.getElementById('wuxing-title').innerHTML = `æ±æ–¹æ–‡åŒ–ä¸­çš„ã€Œäº”è¡Œã€å’Œäº”å€‹é¡è‰²å°ç…§ï¼š`;
        document.getElementById('wuxing-mu').innerHTML = `æœ¨ = é’ï¼ˆç¶ è‰²çš„æ¨¹æœ¨ï¼‰`;
        document.getElementById('wuxing-huo').innerHTML = `ç« = èµ¤ï¼ˆç´…è‰²ï¼Œåƒç«ç„°ä¸€æ¨£ï¼‰`;
        document.getElementById('wuxing-tu').innerHTML = `åœŸ = é»ƒï¼ˆåœŸåœ°ã€æ³¥å·´çš„é¡è‰²ï¼‰`;
        document.getElementById('wuxing-jin').innerHTML = `é‡‘ = ç™½ï¼ˆåƒé‡‘å±¬ç™¼äº®çš„ç™½å…‰ï¼‰`;
        document.getElementById('wuxing-shui').innerHTML = `æ°´ = é»‘ï¼ˆæ·±æš—çš„æ°´è‰²ï¼‰`;
        
        document.getElementById('naming-title').innerHTML = `ä¸­æ–‡å‘½åçš„ç”±ä¾†ï¼š`;
        document.getElementById('naming-p1').innerHTML = `å¾ˆä¹…ä»¥å‰ï¼Œäººå€‘è§€å¯Ÿå¤©ç©ºï¼Œçœ‹åˆ°å¤ªé™½ã€æœˆäº®ï¼Œé‚„æœ‰äº”é¡†æœƒç§»å‹•çš„æ˜Ÿæ˜Ÿã€‚è¥¿æ¼¢çš„å¤©æ–‡å­¸å®¶å¸é¦¬é·ï¼ŒæŠŠé€™äº”é¡†æ˜Ÿæ˜Ÿå’Œã€Œäº”è¡Œã€çš„æƒ³æ³•é€£åœ¨ä¸€èµ·ï¼Œå–äº†åå­—ï¼š é‡‘æ˜Ÿã€æœ¨æ˜Ÿã€æ°´æ˜Ÿã€ç«æ˜Ÿã€åœŸæ˜Ÿã€‚`;
        document.getElementById('naming-p2').innerHTML = `ä»¥å‰çš„äººï¼Œå› ç‚ºæ²’æœ‰å…ˆé€²çš„æœ›é é¡ï¼Œåªèƒ½çœ‹å¾—åˆ°åœŸæ˜Ÿä»¥å…§çš„è¡Œæ˜Ÿï¼ˆæ°´æ˜Ÿåˆ°åœŸæ˜Ÿï¼‰ã€‚å¤©ç‹æ˜Ÿã€æµ·ç‹æ˜Ÿå’Œå†¥ç‹æ˜Ÿé€™äº›æ›´é çš„æ˜Ÿæ˜Ÿï¼Œæ˜¯å¾Œä¾†æœ‰äº†æ›´å¥½çš„è§€å¯Ÿå·¥å…·å’Œç§‘æŠ€ï¼Œæ‰ä¸€å€‹ä¸€å€‹è¢«ç™¼ç¾çš„ã€‚`;
        
        document.getElementById('uranus-info').innerHTML = `å¤©ç‹æ˜Ÿï¼ˆ1781 ç™¼ç¾ï¼‰â†’ æ¸…æœä¹¾éš†å¹´é–“ï¼Œæœ€æ—©ç¿»è­¯ç‚ºã€Œæ­²æ˜Ÿã€ä¹‹å¤–çš„æ–°æ˜Ÿï¼Œå¾Œä¾†åœ¨æ¸…æœ«è¢«å®šåç‚º å¤©ç‹æ˜Ÿã€‚`;
        document.getElementById('neptune-info').innerHTML = `æµ·ç‹æ˜Ÿï¼ˆ1846 ç™¼ç¾ï¼‰â†’ æ¸…æœå’¸è±å¹´é–“ï¼Œè¥¿æ–¹å‚³å…¥ä¸­åœ‹å¾Œç¿»è­¯ç‚º æµ·ç‹æ˜Ÿã€‚`;
        document.getElementById('pluto-info').innerHTML = `å†¥ç‹æ˜Ÿï¼ˆ1930 ç™¼ç¾ï¼‰â†’ æ°‘åœ‹æ™‚æœŸï¼Œç”±å¤©æ–‡å­¸å®¶é¦¬ä»²è¯ï¼ˆåŒ—äº¬å¤§å­¸æ•™æˆï¼‰ç­‰äººç¿»è­¯ç‚º å†¥ç‹æ˜Ÿã€‚`;

        // é¦–æ¬¡è¼‰å…¥æ™‚ç”Ÿæˆæ¸¬é©—
        generateQuiz();

    </script>
</body>
</html>




